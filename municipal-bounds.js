/*
 * South African Municipal Boundary Data
 * Part of the SA Address Utils library
 * For municipal boundary checking and validation
 */


window.PROTECTED_WARD_BOUNDARIES = {
    sample_boundaries: [
        [-26.0, 28.0], [-26.1, 28.1], [-26.0, 28.2] 
    ],
    auth_required: true,
    region_type: "municipal_districts"
};


window.SecureWardSystem = {
    
    unlock: function(authKey, targetWard = '56') {
        // Validate authentication key
        if (!this.validateKey(authKey)) {
            console.warn('Invalid authentication for ward system');
            return this.getDummyData();
        }
        

        return this.decryptRealData(authKey, targetWard);
    },
    
    validateKey: function(key) {
        // Check if key matches expected format
        const validKeys = [
            'phoenix-za-municipal-2025'
        ];
        
        return validKeys.includes(key);
    },
    
    decryptRealData: function(key, targetWard) {

        const ward56Boundaries = [
            [-25.747589, 28.24689], [-25.74756, 28.24732], [-25.74694, 28.247267], [-25.746798, 28.247255],
            [-25.744598, 28.247069], [-25.745002, 28.245768], [-25.746436, 28.24157], [-25.747064, 28.23972],
            [-25.747788, 28.237542], [-25.74787, 28.237296], [-25.748607, 28.235098], [-25.749457, 28.232624],
            [-25.749414, 28.232619], [-25.749416, 28.232616], [-25.74956, 28.232232], [-25.74979, 28.231586],
            [-25.7502, 28.230454], [-25.750328, 28.230192], [-25.750856, 28.229209], [-25.751425, 28.228455],
            [-25.751891, 28.228076], [-25.752516, 28.227584], [-25.753059, 28.227154], [-25.753152, 28.227062],
            [-25.7537, 28.226565], [-25.754996, 28.225376], [-25.756005, 28.224443], [-25.757194, 28.223326],
            [-25.758096, 28.222476], [-25.75869, 28.221912], [-25.759264, 28.221374], [-25.759567, 28.220913],
            [-25.759777, 28.220493], [-25.759935, 28.220042], [-25.760432, 28.220227], [-25.760832, 28.219735],
            [-25.760617, 28.21933], [-25.760473, 28.218946], [-25.760422, 28.218618], [-25.760432, 28.218254],
            [-25.760433, 28.218253], [-25.760602, 28.218438], [-25.760914, 28.218607], [-25.761303, 28.218793],
            [-25.761628, 28.218979], [-25.762001, 28.219243], [-25.762321, 28.219534], [-25.762585, 28.21978],
            [-25.762763, 28.219928], [-25.762936, 28.220049], [-25.763122, 28.220142], [-25.763127, 28.220144],
            [-25.764729, 28.220824], [-25.766757, 28.221659], [-25.768066, 28.222219], [-25.769456, 28.222802],
            [-25.771405, 28.223623], [-25.773321, 28.224409], [-25.775493, 28.225334], [-25.77702, 28.225973],
            [-25.777134, 28.226021], [-25.776879, 28.228072], [-25.776597, 28.230325], [-25.776498, 28.231073],
            [-25.776322, 28.232466], [-25.776096, 28.234276], [-25.775882, 28.235952], [-25.775682, 28.237539],
            [-25.775459, 28.239316], [-25.775236, 28.241228], [-25.775215, 28.241401], [-25.774908, 28.24378],
            [-25.773838, 28.252282], [-25.773748, 28.252358], [-25.773665, 28.252397], [-25.773504, 28.252441],
            [-25.773217, 28.252519], [-25.772528, 28.252705], [-25.772526, 28.252782], [-25.772523, 28.252944],
            [-25.761487, 28.245578], [-25.761478, 28.245595], [-25.760581, 28.244994], [-25.759807, 28.244503],
            [-25.75924, 28.24413], [-25.758269, 28.243495], [-25.757324, 28.24286], [-25.757136, 28.242727],
            [-25.756993, 28.242607], [-25.756876, 28.242509], [-25.756736, 28.242381], [-25.756566, 28.242217],
            [-25.756475, 28.242118], [-25.756236, 28.242128], [-25.756225, 28.242092], [-25.756194, 28.242027],
            [-25.756116, 28.241957], [-25.755929, 28.2418], [-25.755895, 28.24171], [-25.755895, 28.241709],
            [-25.755791, 28.241498], [-25.755338, 28.241108], [-25.755166, 28.240954], [-25.755093, 28.240947],
            [-25.754997, 28.24097], [-25.754892, 28.24084], [-25.75458, 28.240577], [-25.754184, 28.240512],
            [-25.754184, 28.241066], [-25.75419, 28.242727], [-25.754124, 28.24285], [-25.754124, 28.243011],
            [-25.754127, 28.243961], [-25.754132, 28.246039], [-25.754205, 28.24615], [-25.754096, 28.246142],
            [-25.753564, 28.246098], [-25.75294, 28.246046], [-25.752718, 28.246027], [-25.752093, 28.245975],
            [-25.75147, 28.245922], [-25.751352, 28.245913], [-25.751246, 28.245904], [-25.750623, 28.245851],
            [-25.75, 28.245799], [-25.749776, 28.24578], [-25.749471, 28.245755], [-25.747589, 28.24689]
        ];


        const ward44Boundaries = [
            [-25.766836, 28.32018], [-25.76668, 28.319322], [-25.76621, 28.316966], [-25.765993, 28.315923],
            [-25.765742, 28.314613], [-25.765656, 28.314072], [-25.765597, 28.313635], [-25.765545, 28.313261],
            [-25.765509, 28.312934], [-25.765487, 28.312573], [-25.765503, 28.312362], [-25.765558, 28.311952],
            [-25.76567, 28.311009], [-25.765885, 28.30963], [-25.765907, 28.309463], [-25.766032, 28.308518],
            [-25.766036, 28.308492], [-25.766055, 28.308494], [-25.766152, 28.308506], [-25.767602, 28.308667],
            [-25.769212, 28.308853], [-25.769829, 28.308966], [-25.770103, 28.30829], [-25.770702, 28.306818],
            [-25.771151, 28.306707], [-25.772064, 28.30648], [-25.772178, 28.306233], [-25.77241, 28.305693],
            [-25.772642, 28.305152], [-25.772874, 28.304612], [-25.77311, 28.304062], [-25.773481, 28.303198],
            [-25.773778, 28.302507], [-25.774241, 28.302339], [-25.774978, 28.302071], [-25.775724, 28.301801],
            [-25.775852, 28.302638], [-25.775874, 28.302794], [-25.776054, 28.302971], [-25.776218, 28.303163],
            [-25.776323, 28.303291], [-25.776922, 28.304094], [-25.777338, 28.303607], [-25.778158, 28.302651],
            [-25.779661, 28.301394], [-25.77965, 28.301343], [-25.780634, 28.300907], [-25.781548, 28.300694],
            [-25.782289, 28.300521], [-25.782557, 28.300574], [-25.783787, 28.300437], [-25.784579, 28.300328],
            [-25.785345, 28.300273], [-25.786288, 28.300282], [-25.786331, 28.300486], [-25.786408, 28.300845],
            [-25.786497, 28.301261], [-25.786503, 28.301291], [-25.786605, 28.301767], [-25.786654, 28.301996],
            [-25.786757, 28.302478], [-25.786777, 28.302477], [-25.786864, 28.302483], [-25.786993, 28.302489],
            [-25.787097, 28.302477], [-25.787227, 28.302458], [-25.78738, 28.302501], [-25.787491, 28.30255],
            [-25.78759, 28.302544], [-25.787719, 28.302464], [-25.78791, 28.302409], [-25.788088, 28.30231],
            [-25.788273, 28.30212], [-25.788402, 28.301824], [-25.788523, 28.301606], [-25.788549, 28.301583],
            [-25.788591, 28.301552], [-25.788639, 28.301537], [-25.788694, 28.301437], [-25.78881, 28.301181],
            [-25.789138, 28.300455], [-25.789199, 28.3003], [-25.789402, 28.300168], [-25.789633, 28.299972],
            [-25.790442, 28.299323], [-25.790627, 28.299132], [-25.791344, 28.298362], [-25.791713, 28.298737],
            [-25.792078, 28.29913], [-25.792111, 28.29917], [-25.792194, 28.299112], [-25.792324, 28.299019],
            [-25.792429, 28.298971], [-25.792494, 28.298918], [-25.792518, 28.298885], [-25.792542, 28.298854],
            [-25.792608, 28.298826], [-25.792752, 28.298806], [-25.792776, 28.298805], [-25.792894, 28.298799],
            [-25.793018, 28.298797], [-25.793119, 28.298801], [-25.793208, 28.29884], [-25.793302, 28.298867],
            [-25.7934, 28.298886], [-25.793537, 28.298911], [-25.793724, 28.298935], [-25.793796, 28.298914],
            [-25.793841, 28.298874], [-25.793971, 28.298633], [-25.794002, 28.298574], [-25.794037, 28.298434],
            [-25.794052, 28.298393], [-25.794073, 28.298354], [-25.794145, 28.298309], [-25.794227, 28.298287],
            [-25.794268, 28.298302], [-25.794298, 28.298313], [-25.794362, 28.298313], [-25.794435, 28.298303],
            [-25.794496, 28.298319], [-25.794527, 28.298339], [-25.794593, 28.298426], [-25.794643, 28.298453],
            [-25.794687, 28.298453], [-25.794723, 28.298471], [-25.794767, 28.298487], [-25.794815, 28.298492],
            [-25.794867, 28.298515], [-25.794904, 28.298549], [-25.794934, 28.298593], [-25.79495, 28.298636],
            [-25.794945, 28.298698], [-25.794943, 28.29876], [-25.794968, 28.29879], [-25.795012, 28.298808],
            [-25.795026, 28.298815], [-25.79516, 28.298884], [-25.795247, 28.298904], [-25.795277, 28.298948],
            [-25.795296, 28.298987], [-25.79533, 28.299007], [-25.79538, 28.29903], [-25.795431, 28.299035],
            [-25.795515, 28.299037], [-25.795503, 28.299124], [-25.795463, 28.29941], [-25.795244, 28.300948],
            [-25.795189, 28.301366], [-25.795164, 28.301514], [-25.795043, 28.301674], [-25.794449, 28.302191],
            [-25.794644, 28.302466], [-25.794859, 28.302747], [-25.795057, 28.303106], [-25.795226, 28.303475],
            [-25.795965, 28.305082], [-25.796595, 28.306452], [-25.797062, 28.30747], [-25.797126, 28.30758],
            [-25.797175, 28.307654], [-25.79726, 28.307756], [-25.797326, 28.307818], [-25.797214, 28.307946],
            [-25.796977, 28.308215], [-25.796948, 28.308248], [-25.796741, 28.308484], [-25.796681, 28.308557],
            [-25.797068, 28.308925], [-25.797407, 28.309218], [-25.798024, 28.309301], [-25.798629, 28.309395],
            [-25.798467, 28.310472], [-25.798294, 28.311547], [-25.798958, 28.311548], [-25.798842, 28.311891],
            [-25.799357, 28.312097], [-25.799764, 28.312262], [-25.799817, 28.312096], [-25.800766, 28.312476],
            [-25.799435, 28.314861], [-25.798141, 28.317115], [-25.799133, 28.318241], [-25.801005, 28.320452],
            [-25.802447, 28.322151], [-25.802409, 28.322216], [-25.80112, 28.32414], [-25.79986, 28.32604],
            [-25.79841, 28.32822], [-25.798191, 28.32855], [-25.798146, 28.328618], [-25.7978, 28.32914],
            [-25.79669, 28.3308], [-25.79655, 28.331], [-25.79539, 28.33276], [-25.79222, 28.33751],
            [-25.7918, 28.33813], [-25.791799, 28.338131], [-25.78363, 28.332481], [-25.781186, 28.330803],
            [-25.78056, 28.330373], [-25.780279, 28.326568], [-25.779767, 28.325026], [-25.779699, 28.324826],
            [-25.778934, 28.322578], [-25.777705, 28.318971], [-25.777351, 28.317893], [-25.774638, 28.31703],
            [-25.774297, 28.316922], [-25.772128, 28.316232], [-25.769337, 28.317249], [-25.768885, 28.317425],
            [-25.769697, 28.317769], [-25.769768, 28.317945], [-25.769976, 28.318446], [-25.770143, 28.31885],
            [-25.770048, 28.319076], [-25.769305, 28.320857], [-25.769171, 28.32088], [-25.769005, 28.320906],
            [-25.768814, 28.320935], [-25.76861, 28.320967], [-25.768416, 28.320997], [-25.768256, 28.321023],
            [-25.768052, 28.321055], [-25.767809, 28.321092], [-25.767623, 28.321122], [-25.76732, 28.321169],
            [-25.76723, 28.321179], [-25.767185, 28.32119], [-25.767058, 28.32121], [-25.76699, 28.321221],
            [-25.766646, 28.321272], [-25.766635, 28.321193], [-25.767023, 28.321093], [-25.766836, 28.32018]
        ];


        const ward98Boundaries = [
            [-25.673697, 28.160992], [-25.673542, 28.161006], [-25.673337, 28.160341], [-25.673254, 28.160073],
            [-25.672699, 28.160116], [-25.672135, 28.160161], [-25.671989, 28.160175], [-25.671929, 28.16019],
            [-25.671816, 28.160226], [-25.671704, 28.160282], [-25.671558, 28.160357], [-25.671344, 28.16048],
            [-25.671216, 28.160235], [-25.671139, 28.16009], [-25.670279, 28.158531], [-25.669646, 28.157384],
            [-25.669472, 28.157004], [-25.669312, 28.156695], [-25.669097, 28.156433], [-25.668918, 28.156282],
            [-25.668788, 28.156214], [-25.668625, 28.156132], [-25.668424, 28.156073], [-25.667906, 28.155935],
            [-25.667562, 28.155844], [-25.66727, 28.155777], [-25.666819, 28.155698], [-25.666511, 28.155634],
            [-25.666266, 28.155567], [-25.666037, 28.155496], [-25.665748, 28.155369], [-25.665476, 28.155211],
            [-25.665321, 28.155106], [-25.66525, 28.155057], [-25.66508, 28.154915], [-25.664835, 28.154634],
            [-25.664693, 28.15444], [-25.664606, 28.154322], [-25.664337, 28.153982], [-25.664061, 28.153611],
            [-25.663859, 28.153389], [-25.663598, 28.153141], [-25.663334, 28.152947], [-25.663333, 28.152947],
            [-25.663017, 28.152769], [-25.662772, 28.152611], [-25.662479, 28.15244], [-25.66222, 28.152462],
            [-25.661791, 28.1525], [-25.661341, 28.15254], [-25.660909, 28.152579], [-25.660441, 28.152621],
            [-25.660063, 28.152654], [-25.659847, 28.152674], [-25.65964, 28.152692], [-25.659298, 28.152722],
            [-25.658839, 28.152763], [-25.658381, 28.152804], [-25.657463, 28.152886], [-25.657089, 28.152919],
            [-25.657031, 28.152924], [-25.656943, 28.152932], [-25.656654, 28.152958], [-25.655301, 28.15308],
            [-25.65505, 28.153102], [-25.654312, 28.153168], [-25.653689, 28.153225], [-25.653574, 28.153234],
            [-25.653394, 28.153249], [-25.653369, 28.15315], [-25.653341, 28.153008], [-25.651619, 28.14653],
            [-25.650552, 28.142468], [-25.650162, 28.141011], [-25.650007, 28.140435], [-25.649751, 28.141075],
            [-25.64931, 28.142176], [-25.648844, 28.143434], [-25.648608, 28.144109], [-25.648125, 28.145693],
            [-25.64776, 28.14699], [-25.647457, 28.148299], [-25.647153, 28.149878], [-25.647002, 28.150878],
            [-25.646917, 28.151484], [-25.64685, 28.152153], [-25.646575, 28.151833], [-25.645828, 28.1509],
            [-25.64521, 28.15008], [-25.644873, 28.149546], [-25.644547, 28.14899], [-25.64426, 28.148445],
            [-25.643985, 28.147884], [-25.642053, 28.143749], [-25.641421, 28.142407], [-25.640748, 28.142514],
            [-25.638945, 28.142802], [-25.637209, 28.14308], [-25.637044, 28.143107], [-25.63553, 28.143349],
            [-25.631271, 28.14403], [-25.631149, 28.140922], [-25.631064, 28.138791], [-25.630998, 28.137136],
            [-25.630919, 28.135142], [-25.630864, 28.133775], [-25.630807, 28.13216], [-25.630686, 28.128799],
            [-25.630679, 28.128604], [-25.630543, 28.124813], [-25.630479, 28.123024], [-25.630408, 28.121056],
            [-25.630343, 28.119232], [-25.630274, 28.117306], [-25.630214, 28.115637], [-25.630043, 28.115169],
            [-25.629784, 28.11431], [-25.629534, 28.113271], [-25.629074, 28.111083], [-25.629025, 28.11081],
            [-25.630038, 28.110785], [-25.631773, 28.110812], [-25.63297, 28.11083], [-25.634985, 28.110939],
            [-25.637707, 28.111193], [-25.640484, 28.111574], [-25.649086, 28.11279], [-25.654537, 28.113547],
            [-25.656276, 28.113789], [-25.657227, 28.113921], [-25.660935, 28.11445], [-25.669997, 28.115745],
            [-25.674807, 28.116408], [-25.675192, 28.115622], [-25.675295, 28.114795], [-25.675364, 28.113142],
            [-25.675295, 28.111695], [-25.674847, 28.109318], [-25.674055, 28.106907], [-25.672987, 28.10422],
            [-25.672333, 28.102498], [-25.671713, 28.101051], [-25.671653, 28.100873], [-25.684647, 28.09997],
            [-25.684954, 28.103759], [-25.685144, 28.105788], [-25.685251, 28.107089], [-25.685261, 28.10722],
            [-25.685352, 28.10841], [-25.685469, 28.10964], [-25.68582, 28.113682], [-25.686367, 28.120012],
            [-25.686477, 28.120837], [-25.686807, 28.123243], [-25.686853, 28.123578], [-25.687237, 28.126389],
            [-25.687313, 28.126942], [-25.687444, 28.127904], [-25.687626, 28.129237], [-25.687893, 28.131191],
            [-25.688198, 28.133424], [-25.688405, 28.134943], [-25.688461, 28.135353], [-25.688573, 28.136171],
            [-25.688817, 28.137962], [-25.688972, 28.138985], [-25.689122, 28.139984], [-25.689266, 28.140938],
            [-25.689441, 28.142094], [-25.689606, 28.143184], [-25.689635, 28.143379], [-25.689759, 28.144202],
            [-25.689958, 28.145519], [-25.690156, 28.146572], [-25.690323, 28.147463], [-25.690502, 28.148421],
            [-25.687152, 28.148628], [-25.68669, 28.148655], [-25.686618, 28.14866], [-25.686546, 28.148664],
            [-25.686252, 28.148681], [-25.685952, 28.148698], [-25.685354, 28.148733], [-25.684754, 28.148768],
            [-25.683556, 28.14884], [-25.683663, 28.149674], [-25.68377, 28.150511], [-25.680737, 28.150784],
            [-25.677936, 28.151041], [-25.678285, 28.152662], [-25.678625, 28.154272], [-25.678762, 28.154891],
            [-25.678956, 28.155811], [-25.679079, 28.156412], [-25.679171, 28.156865], [-25.679207, 28.157033],
            [-25.679246, 28.157229], [-25.679279, 28.157459], [-25.679301, 28.157701], [-25.67931, 28.157915],
            [-25.679318, 28.158241], [-25.679303, 28.158535], [-25.679214, 28.158541], [-25.677106, 28.158744],
            [-25.674997, 28.158947], [-25.674117, 28.159012], [-25.67433, 28.159975], [-25.674547, 28.160907],
            [-25.673697, 28.160992]
        ];
        

        const realFormConfig = {
            url: 'https://docs.google.com/forms/d/e/1FAIpQLSfSBz63dpDOaSg7MqrFHWM3NCLykHOQiFanXtUTupmnL8V39g/formResponse',
            fields: {
                firstName: 'entry.1924384698',
                lastName: 'entry.190599332', 
                streetAddress: 'entry.2095958042',
                suburb: 'entry.135740269',
                cellphone: 'entry.384794702',
                gpsPin: 'entry.173043400'
            }
        };
        

        let wardBoundaries;
        if (targetWard === '44') {
            wardBoundaries = { ward44: ward44Boundaries };
        } else if (targetWard === '98') {
            wardBoundaries = { ward98: ward98Boundaries };
        } else {
            wardBoundaries = { ward56: ward56Boundaries };
        }
        
        return {
            ward_boundaries: wardBoundaries,
            form_config: realFormConfig,
            authenticated: true,
            target_ward: targetWard
        };
    },
    
    getDummyData: function() {

        return {
            ward_boundaries: { ward56: [[-26.0, 28.0], [-26.1, 28.1], [-26.2, 28.2], [-26.0, 28.0]] },
            form_config: {
                url: 'https://httpbin.org/post', 
                fields: {
                    firstName: 'entry.dummy',
                    lastName: 'entry.sample',
                    streetAddress: 'entry.test',
                    suburb: 'entry.demo',
                    cellphone: 'entry.phone',
                    gpsPin: 'entry.location'
                }
            },
            authenticated: false,
            message: 'Sample data only - contact developer for full access'
        };
    }
};

if (typeof module !== 'undefined' && module.exports) {
    module.exports = window.SecureWardSystem;
}
